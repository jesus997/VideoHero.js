!function(e){var t={};function r(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(s,o,function(t){return e[t]}.bind(null,o));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t){!function(e){class t{constructor(t,r={}){this.$el=t,this.settings=e.extend({provider:"youtube",videoid:"",source:"",type:"video/mp4",poster:"",log:!1,api:{url:"https://you-link.herokuapp.com/",param:"?url=https://www.youtube.com/watch?v="},attrs:{muted:!0,autoplay:!0,loop:!0},classes:{container:{wrapper:"videohero videohero-wrapper",preparing:"preparing",ready:"ready",error:"error",provider:"videohero-provider-"},video:"videohero-element"}},r),this.log("VideoHero has successfully initialized with the following configuration:"),this.log(this.settings),this.generate()}isJson(e){e="string"!=typeof e?JSON.stringify(e):e;try{e=JSON.parse(e)}catch(e){return!1}return"object"==typeof e&&null!==e}get api_url(){return this.settings.api.url+this.settings.api.param+this.settings.videoid}log(e){this.settings.log&&("object"==typeof e?console.log(e):console.log("[VideoHero] "+e))}error(e){this.settings.log&&("object"==typeof e?console.error(e):console.error("[VideoHero] "+e))}getDataFromEl(){var t=this.$el,r=this.settings;e.each(this.settings,function(e,s){t.is("[data-"+e+"]")&&(r[e]=t.data(e))}),this.settings=r}setSourcesFromYoutube(t){var r=this;this.log("Starting extraction of YouTube sources."),e.ajax({method:"POST",url:this.api_url}).done(function(s){s.length>0?void 0===s[0].error?(r.log("Complete extraction. "+s.length+" sources were found."),r.log(s),e.each(s,function(r,s){t.append(e("<source></source>").attr("src",s.url).attr("type",s.type))})):(r.log("API error: "+s[0].reason),r.log(r.api_url)):r.log("No sources found for this video.")}).fail(function(){r.error("The extraction of sources has failed. Verify the API address: "+this.api_url)})}setSourcesFromCustom(t){""!==this.settings.source&&(this.isJson(this.settings.source)?e.each(this.settings.source,function(r,s){var o=void 0!==s.source&&s.source,i=void 0!==s.type&&s.type;if(o){var n=e("<source></source>").attr("src",o);i&&n.attr("type",i),t.append(n)}}):t.append(e("<source></source>").attr("src",this.settings.source).attr("type",this.settings.type)))}generateWrapperTag(){this.getDataFromEl();var e="";e+=this.settings.classes.container.wrapper,e+=" "+this.settings.classes.container.preparing,e+=" "+this.settings.classes.container.provider+this.settings.provider,this.$el.addClass(e),this.$el.css("background-image","url("+this.settings.poster+")"),this.log("Wrapper generated successfully.")}generateVideoTag(){var t=e("<video></video>").addClass(this.settings.classes.video);return e.each(this.settings.attrs,function(e,r){"autoplay"===e&&(r="",t.attr("plays-inline",r).attr("playsinline",r)),"loop"===e&&(r=""),t.attr(e,r)}),t.attr("poster",this.settings.poster),this.log("Video Tag generated successfully."),t}generate(){this.generateWrapperTag();var t=this.generateVideoTag();if("youtube"===this.settings.provider.toLowerCase()?this.setSourcesFromYoutube(t):"custom"===this.settings.provider.toLowerCase()&&this.setSourcesFromCustom(t),e(t).children().length,this.$el.removeClass(this.settings.classes.container.preparing).addClass(this.settings.classes.container.ready),this.settings.attrs.muted&&void 0!==t.get(0).muted&&(t.get(0).muted=!0),this.settings.attrs.autoplay){var r=t.get(0).play();void 0!==r&&r.then(e=>{this.log("Playing video successfully.")}).catch(e=>{this.error("The video could not be played.")})}this.$el.html(t),this.log("Injection of the video complete.")}}e.fn.videohero=function(r){return this.each(function(){new t(e(this),r)})}}(jQuery)}]);