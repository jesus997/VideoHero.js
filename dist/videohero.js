!function(e){var t={};function r(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(s,o,function(t){return e[t]}.bind(null,o));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t){!function(e){class t{constructor(t,r={}){this.$el=t,this.settings=e.extend({provider:"youtube",videoid:"",poster:"",log:!1,api:{url:"https://you-link.herokuapp.com/",param:"?url=https://www.youtube.com/watch?v="},attrs:{muted:!0,autoplay:!0,loop:!0},classes:{container:{wrapper:"videohero videohero-wrapper",preparing:"preparing",ready:"ready",error:"error",provider:"videohero-provider-"},video:"videohero-element"}},r),this.log("VideoHero has successfully initialized with the following configuration:"),this.log(this.settings),this.generate()}get api_url(){return this.settings.api.url+this.settings.api.param+this.settings.videoid}log(e){this.settings.log&&("object"==typeof e?console.log(e):console.log("[VideoHero] "+e))}error(e){this.settings.log&&("object"==typeof e?console.error(e):console.error("[VideoHero] "+e))}getDataFromEl(){var t=this.$el,r=this.settings;e.each(this.settings,function(e,s){t.is("[data-"+e+"]")&&(r[e]=t.data(e))}),this.settings=r}setSourcesFromYoutube(t){var r=this;this.log("Starting extraction of YouTube sources."),e.ajax({method:"POST",url:this.api_url}).done(function(s){s.length>0?void 0===s[0].error?(r.log("Complete extraction. "+s.length+" sources were found."),r.log(s),e.each(s,function(r,s){t.append(e("<source></source>").attr("src",s.url).attr("type",s.type))})):(r.log("API error: "+s[0].reason),r.log(r.api_url)):r.log("No sources found for this video.")}).fail(function(){r.error("The extraction of sources has failed. Verify the API address: "+this.api_url)})}generateWrapperTag(){this.getDataFromEl();var t=e("<div></div>"),r="";return this.$el.is("[id]")&&t.attr("id",this.$el.attr("id")),this.$el.is("[class]")&&t.attr("class",this.$el.attr("class")),r+=this.settings.classes.container.wrapper,r+=" "+this.settings.classes.container.preparing,r+=" "+this.settings.classes.container.provider+this.settings.provider,t.addClass(r),this.log("Wrapper generated successfully."),t}generateVideoTag(){var t=e("<video></video>").addClass(this.settings.classes.video);return e.each(this.settings.attrs,function(e,r){"autoplay"===e&&(r="",t.attr("plays-inline",r).attr("playsinline",r)),"loop"===e&&(r=""),t.attr(e,r)}),t.attr("poster",this.settings.poster),this.log("Video Tag generated successfully."),t}generate(){var t=this.generateWrapperTag(),r=this.generateVideoTag();if("youtube"===this.settings.provider.toLowerCase()&&this.setSourcesFromYoutube(r),e(r).children().length,t.removeClass(this.settings.classes.container.preparing).addClass(this.settings.classes.container.ready),this.settings.attrs.muted&&void 0!==r.get(0).muted&&(r.get(0).muted=!0),this.settings.attrs.autoplay){var s=r.get(0).play();void 0!==s&&s.then(e=>{this.log("Playing video successfully.")}).catch(e=>{this.error("The video could not be played.")})}t.html(r),this.$el.replaceWith(t),this.log("Injection of the video complete.")}}e.fn.videohero=function(r){return this.each(function(){new t(e(this),r)})}}(jQuery)}]);